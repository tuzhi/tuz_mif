<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">Search Stocks</h3>
	</div>
	<div class="panel-body">
		<div class="container-fluid">
			<div class="row no-gutter">
				<div class="col-xs-12">
					<div class="input-group">
						<span class="input-group-addon glyphicon glyphicon-search"></span>
						<input class="form-control" type="text"
							placeholder="Symbol or Company Name" ng-model="search"
							ng-change="updateSearch()"
							ng-model-options="{updateOn: 'default blur', debounce: {default: 1000, blur: 0} }"></input>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">Search Results - {{results.length}} of
			{{totalMatchs}}</h3>
	</div>
	<div class="panel-body">
		<div ng-show="isLoading" class="progress">
			<div class="progress-bar progress-bar-striped active"
				role="progressbar" aria-valuenow="100" aria-valuemin="0"
				aria-valuemax="100" style="width: 100%">
				<span class="sr-only">Loading...</span>
			</div>
		</div>
		<table ng-show="!isLoading" class="table table-hover table-striped">
			<tr>
				<th>Symbol</th>
				<th>Exchange</th>
				<th>Name</th>
				<th>Market Cap</th>
				<th>IPO Year</th>
				<th>Sector</th>
				<th>Industry</th>
				<th width="100px"></th>
			</tr>
			<tr ng-repeat='result in results'>
				<td><a ng-href="#/stock/{{result.symbol}}">{{result.symbol}}</a></td>
				<td>{{result.exchange}}</td>
				<td>{{result.name}}</td>
				<td>{{result.marketCap|formatMoney}}</td>
				<td>{{result.ipoYear}}</td>
				<td>{{result.sector}}</td>
				<td>{{result.industry}}</td>
				<td>
					<div>
						<button class="btn btn-success btn-block"
							ng-click="addStock(result.symbol)"
							ng-show="!isInWatchList(result.symbol)">Watch</button>
					</div>
					<div>
						<button class="btn btn-danger btn-block"
							ng-click="removeStock(result.symbol)"
							ng-show="isInWatchList(result.symbol)">Remove</button>
					</div>
				</td>
			</tr>
		</table>
	</div>
</div>
